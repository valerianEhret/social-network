(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,a){e.exports={nav:"Navbar_nav__3xapk",item:"Navbar_item__1Z-Xn",activeLink:"Navbar_activeLink__1bAZl",friends:"Navbar_friends__3lBG6"}},21:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__2MzQ-",dialogsItems:"Dialogs_dialogsItems__2cT38",dialog:"Dialogs_dialog__3Kh1N",messages:"Dialogs_messages__pu4fj",message:"Dialogs_message__JTVKw",active:"Dialogs_active__2KC7U"}},33:function(e,t,a){e.exports={item:"Sidebar_item__3v75j",name:"Sidebar_name__SbL8L",nav:"Sidebar_nav__1jUEV"}},38:function(e,t,a){e.exports={formControl:"FormsControl_formControl__3E9cA",error:"FormsControl_error__ByjdC"}},39:function(e,t,a){e.exports={userPhoto:"users_userPhoto__2J8X5",selectedPage:"users_selectedPage__2pRmU"}},40:function(e,t,a){e.exports={content:"MyPosts_content__2sIN2"}},41:function(e,t,a){e.exports={header:"Header_header__3iJqH",loginBlock:"Header_loginBlock__3YQFJ"}},56:function(e,t){e.exports="data:image/png;base64,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"},57:function(e,t,a){e.exports=a.p+"static/media/preloader.be00fc4a.svg"},58:function(e,t,a){e.exports={photo:"ProfileInfo_photo__hiofq"}},59:function(e,t,a){e.exports={content:"Post_content__3CV37",item:"Post_item__30khh"}},61:function(e,t,a){e.exports=a(90)},63:function(e,t,a){},85:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n);a(63),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s,o=a(8),i=a(25),l=a(1),c=a(7),u=a.n(c),m=a(20),d=a(51),p=a.n(d).a.create({withCredentials:!0,headers:{"API-KEY":"39c88548-6df5-43ab-a1ae-8869e921e539"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),g=function(e,t){return p.get("users?page=".concat(e,"&count=").concat(t),{withCredentials:!0}).then((function(e){return e.data}))},f=function(e){return console.log("Obsolete method. Please use profileAPI object"),E.getProfile(e)},E={getProfile:function(e){return p.get("profile/".concat(e))},getStatus:function(e){return p.get("profile/status/".concat(e))},updateStatus:function(e){return p.put("profile/status",{status:e})}},h={me:function(){return p.get("auth/me")},login:function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("auth/login",{email:t,password:a,rememberMe:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),logout:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.delete("auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},v={newMessageBody:"",posts:[{id:1,message:"Hi, How are you?"},{id:2,message:"It is my firs post"},{id:3,message:"Adyn, Adyn, Adyn!!!"}],profile:null,status:""},b=function(e){return{type:"ADD_POST",newMessageBody:e}},C=function(e){return{type:"SET_STATUS",status:e}},O={newMessageBody:"",dialogs:[{id:1,name:"Valerian"},{id:2,name:"Natalia"},{id:3,name:"Mark"},{id:4,name:"Zoe"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you"},{id:3,message:"I am fine"},{id:4,message:"Yo!"}]},S=function(e){return{type:"SEND_MESSAGE",newMessageBody:e}},w={friends:[{id:1,name:"Natalia"},{id:2,name:"Mark"},{id:3,name:"Zoe"}]},j={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},I=function(e){return{type:"FOLLOW",userId:e}},A=function(e){return{type:"UNFOLLOW",userId:e}},y=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},P=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},M=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},U={id:null,login:null,email:null,isAuth:!1,error:""},F=function(e,t,a,n){return{type:"SET_USER_DATA",payload:{id:e,login:t,email:a,isAuth:n}}},N=function(e){return{type:"SET_ERROR",error:e}},T=a(52);!function(e){e.INITIALIZED_SUCCEEDED="SOCIAL-NETWORK/APP/INITIALIZED-SUCCEEDED"}(s||(s={}));var x={initialized:!1},D=function(){return{type:s.INITIALIZED_SUCCEEDED}},L=Object(o.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(l.a)(Object(l.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[{id:5,message:t.newMessageBody}])});case"SET_STATUS":return Object(l.a)(Object(l.a)({},e),{},{status:t.status});case"SET_USER_PROFILE":return Object(l.a)(Object(l.a)({},e),{},{profile:t.profile});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var a=t.newMessageBody;return Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(i.a)(e.messages),[{id:6,message:a}])});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(l.a)(Object(l.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(l.a)(Object(l.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(l.a)(Object(l.a)({},e),{},{users:Object(i.a)(t.users)});case"SET_CURRENT_PAGE":return Object(l.a)(Object(l.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(l.a)(Object(l.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(l.a)(Object(l.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(l.a)(Object(l.a)({},e),t.payload);case"SET_ERROR":return Object(l.a)(Object(l.a)({},e),{},{error:t.error});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.INITIALIZED_SUCCEEDED:return Object(l.a)(Object(l.a)({},e),{},{initialized:!0});default:return e}}}),k=Object(o.e)(L,Object(o.a)(T.a)),R=a(28),B=a.n(R),G=a(16),H=a(17),Q=a(19),_=a(18),z=(a(85),a(4)),W=a(21),Y=a.n(W),q=function(e){r.a.createRef();return r.a.createElement("div",null,r.a.createElement("div",{className:Y.a.message},e.message))},K=a(6),Z=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:Y.a.dialog+" "+Y.a.active},r.a.createElement(K.b,{to:t},e.name))},J=a(32),X=a(3),V=a(38),$=a.n(V),ee=function(e){return r.a.createElement("div",{className:$.a.formControl+""+$.a.error},r.a.createElement("textarea",e),r.a.createElement("span",null,"some error"))},te=function(e){var t=e.buttonTitle,a=e.sendMessage,n=Object(X.c)(),s=Object(J.a)({initialValues:{newMessageBody:""},validate:function(e){var t={};return e.newMessageBody||(t.newMessageBody="Field is required"),t},onSubmit:function(e){n(a(e.newMessageBody)),s.resetForm()}});return r.a.createElement("form",{onSubmit:s.handleSubmit},r.a.createElement("div",null,r.a.createElement(ee,Object.assign({placeholder:"Enter your message",id:"newMessageBody"},s.getFieldProps("newMessageBody"))),s.touched.newMessageBody&&s.errors.newMessageBody?r.a.createElement("div",{style:{color:"red"}},s.errors.newMessageBody):null),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},t)))},ae=function(e){var t=e.dialogsPage,a=e.messagesPage,n=t.map((function(e){return r.a.createElement(Z,{name:e.name,id:e.id})})),s=a.map((function(e){return r.a.createElement(q,{message:e.message,id:e.id})}));return r.a.createElement("div",{className:Y.a.dialogs},r.a.createElement("div",{className:Y.a.dialogsItems},n),r.a.createElement("div",{className:Y.a.messages},r.a.createElement("div",null,s),r.a.createElement("div",null,r.a.createElement(te,{buttonTitle:"Send",sendMessage:S}))))},ne=a(60),re=function(e){return{isAuth:e.auth.isAuth}};function se(e){return Object(X.b)(re)((function(t){var a=t.isAuth,n=Object(ne.a)(t,["isAuth"]);return a?r.a.createElement(e,n):r.a.createElement(z.a,{to:"/login"})}))}var oe=Object(o.d)(Object(X.b)((function(e){return{dialogsPage:e.dialogsPage.dialogs,messagesPage:e.dialogsPage.messages,newMessageBody:e.dialogsPage.newMessageBody,isAuth:e.auth.isAuth}}),(function(e){return{sendMessage:function(t){e(S(t))}}})),se)(ae),ie=a(39),le=a.n(ie),ce=a(56),ue=a.n(ce);function me(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),a=[],n=1;n<=t;n++)a.push(n);return r.a.createElement("div",null,r.a.createElement("div",null,a.map((function(t){return r.a.createElement("span",{className:e.currentPage===t?le.a.selectedPage:"",onClick:function(a){e.onPageChanged(t)}},t)}))),e.usersPage.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(K.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:ue.a,className:le.a.userPhoto}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"Follow"))),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.status)),r.a.createElement("span",null,r.a.createElement("div",null,'"u.location.city"'),r.a.createElement("div",null,'"u.location.country"'))))})))}var de=a(57),pe=a.n(de);function ge(){return r.a.createElement("img",{src:pe.a})}var fe=function(e){Object(Q.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(G.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(ge,null):null,r.a.createElement(me,{usersPage:this.props.usersPage,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unFollow,toggleIsFollowingProgress:this.props.toggleIsFollowingProgress,followingInProgress:this.props.followingInProgress}))}}]),a}(r.a.Component),Ee=Object(o.d)(Object(X.b)((function(e){return{usersPage:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{follow:I,unFollow:A,setCurrentPage:y,toggleIsFollowingProgress:M,getUsers:function(e,t){return function(a){a(P(!0)),a(y(e)),g(e,t).then((function(e){a(P(!1)),a({type:"SET_USERS",users:e.items}),a({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:e.totalCount})}))}}}))(fe),he=a(58),ve=a.n(he),be=function(e){Object(Q.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(G.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(H.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){e.status!==this.props.status&&this.setState({status:this.props.status});this.props,this.props;console.log("componentDidUpdate")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,!this.state.editMode&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:this.activateEditMode},this.props.status||"No status")),this.state.editMode&&r.a.createElement("div",null,r.a.createElement("input",{autoFocus:!0,onBlur:this.deactivateEditMode,onChange:this.onStatusChange,value:this.state.status})))}}]),a}(r.a.Component),Ce=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",{className:ve.a.photo},r.a.createElement("img",{src:"https://greendestinations.org/wp-content/uploads/2019/05/avatar-exemple.jpg",alt:"avatar"}),r.a.createElement(be,{status:e.status,updateStatus:e.updateStatus}),r.a.createElement("img",{src:e.profile.photos.large}),r.a.createElement("div",null,"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: ",e.profile.fullName," "),r.a.createElement("div",null,"\u041e \u0441\u0435\u0431\u0435: ",e.profile.aboutMe," "))):r.a.createElement(ge,null)},Oe=a(40),Se=a.n(Oe),we=a(59),je=a.n(we),Ie=function(e){return r.a.createElement("div",{className:je.a.item},r.a.createElement("img",{src:"https://i.ytimg.com/vi/fUWrhetZh9M/maxresdefault.jpg",alt:""}),e.message)},Ae=function(e){var t=e.posts.map((function(e){return r.a.createElement(Ie,{message:e.message})}));return r.a.createElement("div",{className:Se.a.item},r.a.createElement(te,{buttonTitle:"Add post",sendMessage:b}),r.a.createElement("h3",null,"My posts"),r.a.createElement("div",null,"New posts"),r.a.createElement("div",{className:Se.a.posts},t))},ye=Object(X.b)((function(e){return{posts:e.profilePage.posts,newMessageBody:e.profilePage.newMessageBody}}),(function(e){return{addPost:function(t){e(b(t))}}}))(Ae),Pe=function(e){return r.a.createElement("div",null,r.a.createElement(Ce,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(ye,null))},Me=function(e){Object(Q.a)(a,e);var t=Object(_.a)(a);function a(){return Object(G.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatusTC(e)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})))}}]),a}(r.a.Component),Ue=Object(o.d)(Object(X.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(t){f(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}},getUserStatusTC:function(e){return function(t){E.getStatus(e).then((function(e){t(C(e.data))}))}},updateStatus:function(e){return function(t){E.updateStatus(e).then((function(a){0===a.data.resultCode&&t(C(e))}))}}}),z.f,se)(Me),Fe=a(41),Ne=a.n(Fe),Te=function(e){return r.a.createElement("header",{className:Ne.a.header},r.a.createElement("div",{className:Ne.a.loginBlock},e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("button",{onClick:e.logout},"Log out")," "):r.a.createElement(K.b,{to:"/login"},"Login")))},xe=function(e){Object(Q.a)(a,e);var t=Object(_.a)(a);function a(){return Object(G.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Te,this.props))}}]),a}(r.a.Component),De=Object(X.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,h.logout();case 4:0===(a=e.sent).resultCode&&t(F(null,null,null,!1)),console.log(JSON.stringify(a)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}})(xe),Le=function(){var e=Object(X.c)(),t=Object(X.d)((function(e){return e.auth})),a=t.isAuth,n=t.error,s=Object(J.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password?e.password.length<6&&(t.password="Must be 6 characters or more"):t.password="Password is required",t},onSubmit:function(t){var a,n,r;e((a=t.email,n=t.password,r=t.rememberMe,function(){var e=Object(m.a)(u.a.mark((function e(t){var s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,h.login(a,n,r);case 4:0===(s=e.sent).resultCode&&(t(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.me();case 3:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,s=n.login,o=n.email,t(F(r,s,o,!0))),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),console.log("getAuthUserData")),10!==s.resultCode&&1!==s.resultCode||(o=s.messages.length>0?s.messages[0]:"Some error",t(N(o))),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())),s.resetForm()}});return a?r.a.createElement(z.a,{to:"/profile"}):r.a.createElement("form",{onSubmit:s.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Email"),r.a.createElement("input",Object.assign({id:"email",type:"email"},s.getFieldProps("email"))),s.touched.email&&s.errors.email?r.a.createElement("div",{style:{color:"red"}},s.errors.email):null),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),r.a.createElement("input",Object.assign({id:"password",type:"password"},s.getFieldProps("password"))),s.touched.password&&s.errors.password?r.a.createElement("div",{style:{color:"red"}},s.errors.password):null),r.a.createElement("div",null,r.a.createElement("label",null,"Remember me"),r.a.createElement("input",Object.assign({id:"rememberMe",type:"checkbox"},s.getFieldProps("rememberMe")))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"login")),r.a.createElement("div",null,n))},ke=a(10),Re=a.n(ke),Be=a(33),Ge=a.n(Be),He=function(e){return r.a.createElement("div",{className:Ge.a.nav},r.a.createElement("span",{className:Ge.a.item},r.a.createElement("img",{src:"https://www.meme-arsenal.com/memes/a5dd2f55b36488a10172f4f84352846b.jpg"}),r.a.createElement("span",{className:Ge.a.name},e.name)))},Qe=function(e){var t=e.state.friends.map((function(e){return r.a.createElement(He,{key:e.id,name:e.name})}));return r.a.createElement("nav",{className:Re.a.nav},r.a.createElement("div",{className:Re.a.item},r.a.createElement(K.b,{to:"/profile",activeClassName:Re.a.activeLink},"Profile")),r.a.createElement("div",{className:Re.a.item},r.a.createElement(K.b,{to:"/dialogs",activeClassName:Re.a.activeLink},"Messages")),r.a.createElement("div",{className:Re.a.item},r.a.createElement(K.b,{to:"/users",activeClassName:Re.a.activeLink},"Users")),r.a.createElement("div",{className:Re.a.item},r.a.createElement(K.b,{to:"/login",activeClassName:Re.a.activeLink},"Login")),r.a.createElement("div",{className:Re.a.item},r.a.createElement(K.b,{to:"#"},"News")),r.a.createElement("div",{className:Re.a.item},r.a.createElement(K.b,{to:"#"},"Music")),r.a.createElement("div",{className:Re.a.item},r.a.createElement(K.b,{to:"#"},"Settings")),r.a.createElement("div",{className:Re.a.friends},"Friends"),t)},_e=Object(X.b)((function(e){return{state:e.sidebar}}))(Qe),ze=function(e){Object(Q.a)(a,e);var t=Object(_.a)(a);function a(){return Object(G.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.props.initializingTC()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",null,r.a.createElement(De,null),r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(_e,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(z.b,{path:"/Dialogs",render:function(){return r.a.createElement(oe,null)}}),r.a.createElement(z.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(z.b,{path:"/users",render:function(){return r.a.createElement(Ee,null)}}),r.a.createElement(z.b,{path:"/login",render:function(){return r.a.createElement(Le,null)}})))):r.a.createElement(ge,null)}}]),a}(r.a.Component),We=Object(o.d)(z.f,Object(X.b)((function(e){return{initialized:e.app.initialized}}),{initializingTC:function(){return function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,h.me();case 4:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,s=n.login,o=n.email,t(F(r,s,o,!0))),t(D()),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[1,9,11,13]])})));return function(t){return e.apply(this,arguments)}}()}}))(ze);B.a.render(r.a.createElement(K.a,null,r.a.createElement(X.a,{store:k},r.a.createElement(We,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.e0dffaff.chunk.js.map